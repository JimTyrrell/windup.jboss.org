<html>
	<head>
		<script type='text/javascript' src='../../../../../../../jquery.min.js'></script>
		<script type='text/javascript' src='../../../../../../../jquery-ui/jquery.ui.widget.js'></script>
		<script type='text/javascript' src='../../../../../../../snippet/jquery.snippet.min.js'></script>
		<script type='text/javascript' src='../../../../../../../snippet/jquery.snippet.java-manifest.js'></script>
		<script type='text/javascript' src='../../../../../../../sausage/jquery.sausage.min.js'></script>

		<link rel='stylesheet' type='text/css' href='../../../../../../../snippet/jquery.snippet.min.css' />
		<link rel='stylesheet' type='text/css' href='../../../../../../../windup.css' />

		<link rel='stylesheet' type='text/css' href='../../../../../../../sausage/sausage.css' />
	</head>
	<body class='sourceReport'>
		<div class="windupHeader"><img src="../../../../../../../img/windup-logo.png"></div>
		

			<div class='windupBody'>

		<div class='windupHighLevel'>

			<h3>Classification</h3>
			<ul>
					<li>Servlet Filter
					</li>
			</ul>




			<h3>Notification</h3>
			<ul class='notifications'>
					<li class='notification warning'><a href="#-1436358501">Import of 'javax.servlet.Filter' at line 10</a></li>
					<li class='notification warning'><a href="#-2045669311">Import of 'javax.servlet.FilterChain' at line 11</a></li>
					<li class='notification warning'><a href="#-952393544">Import of 'javax.servlet.FilterConfig' at line 12</a></li>
					<li class='notification warning'><a href="#-735252400">Import of 'weblogic.i18n.logging.NonCatalogLogger' at line 19</a></li>
					<li class='notification warning'><a href="#-83115461">Import of 'weblogic.servlet.security.ServletAuthentication' at line 20</a></li>
					<li class='notification warning'><a href="#-1050721013">Implementing interface 'javax.servlet.Filter' at line 23</a></li>
					<li class='notification warning'><a href="#1829042738">Constructing type 'weblogic.i18n.logging.NonCatalogLogger(java.lang.String)' at line 28</a></li>
					<li class='notification warning'><a href="#-505422520">Method parameter 'javax.servlet.FilterChain' at line 36</a></li>
					<li class='notification warning'><a href="#46623468">Usage of 'weblogic.servlet.security.ServletAuthentication.invalidateAll(javax.servlet.http.HttpServletRequest)' at line 45</a></li>
					<li class='notification warning'><a href="#-1556108160">Usage of 'weblogic.servlet.security.ServletAuthentication.invalidateAll(javax.servlet.http.HttpServletRequest)' at line 54</a></li>
					<li class='notification warning'><a href="#689771650">Method parameter 'javax.servlet.FilterConfig' at line 59</a></li>
					<li class='notification warning'><a href="#1659873788">Declaring type 'weblogic.i18n.logging.NonCatalogLogger' at line 65</a></li>
			</ul>
		
		</div>
		</div>

		<div class='windupReportBody'>

<pre id='source'>// Decompiled by Jad v1.5.8g. Copyright 2001 Pavel Kouznetsov.
// Jad home page: http://www.kpdus.com/jad.html
// Decompiler options: fullnames 
// Source File Name:   AuthenticateFilter.java

package com.acme.anvil;

import java.io.IOException;
import java.util.Date;
import javax.servlet.Filter;
import javax.servlet.FilterChain;
import javax.servlet.FilterConfig;
import javax.servlet.ServletException;
import javax.servlet.ServletRequest;
import javax.servlet.ServletResponse;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpSession;
import org.apache.commons.lang.time.DateUtils;
import weblogic.i18n.logging.NonCatalogLogger;
import weblogic.servlet.security.ServletAuthentication;

public class AuthenticateFilter
    implements javax.servlet.Filter
{

    public AuthenticateFilter()
    {
        ncl = new NonCatalogLogger(&quot;AuthenticateFilter&quot;);
    }

    public void destroy()
    {
        ncl.debug(&quot;AuthenticateFilter destroy.&quot;);
    }

    public void doFilter(javax.servlet.ServletRequest req, javax.servlet.ServletResponse resp, javax.servlet.FilterChain chain)
        throws java.io.IOException, javax.servlet.ServletException
    {
        javax.servlet.http.HttpServletRequest request = (javax.servlet.http.HttpServletRequest)req;
        javax.servlet.http.HttpSession session = request.getSession();
        ncl.debug(&quot;AuthenticateFilter doFilter.&quot;);
        if(req.getAttribute(&quot;cancelSession&quot;) != null)
        {
            ncl.info(&quot;Cancelled session due to session timeout.&quot;);
            weblogic.servlet.security.ServletAuthentication.invalidateAll(request);
        } else
        if(session != null)
        {
            java.util.Date fiveMinutesAgo = org.apache.commons.lang.time.DateUtils.addMinutes(new Date(), -5);
            java.util.Date timeLastAccessed = new Date(session.getLastAccessedTime());
            if(timeLastAccessed.before(fiveMinutesAgo))
            {
                session.invalidate();
                weblogic.servlet.security.ServletAuthentication.invalidateAll(request);
            }
        }
    }

    public void init(javax.servlet.FilterConfig config)
        throws javax.servlet.ServletException
    {
        ncl.debug(&quot;AuthenticateFilter init.&quot;);
    }

    private weblogic.i18n.logging.NonCatalogLogger ncl;
}
</pre>
		</div>
		

<script type='text/javascript'>
	$(document).ready(function(){
		$('pre').snippet('java',{style:'ide-eclipse', showNum:true,boxFill:'#ffeeb9', box: '10,11,12,19,20,23,28,36,45,54,59,65' });


		
$("<a name='-1436358501'></a>			<div class='inline-source-comment green'><div class='inline-comment'><div class='inline-comment-heading'><h2 class='notification warning'>Import of \'javax.servlet.Filter\' at line 10</h2></div></div></div>").appendTo('ol.snippet-num li:nth-child(10)');		
$("<a name='-2045669311'></a>			<div class='inline-source-comment green'><div class='inline-comment'><div class='inline-comment-heading'><h2 class='notification warning'>Import of \'javax.servlet.FilterChain\' at line 11</h2></div></div></div>").appendTo('ol.snippet-num li:nth-child(11)');		
$("<a name='-952393544'></a>			<div class='inline-source-comment green'><div class='inline-comment'><div class='inline-comment-heading'><h2 class='notification warning'>Import of \'javax.servlet.FilterConfig\' at line 12</h2></div></div></div>").appendTo('ol.snippet-num li:nth-child(12)');		
$("<a name='-735252400'></a>			<div class='inline-source-comment green'><div class='inline-comment'><div class='inline-comment-heading'><h2 class='notification warning'>Import of \'weblogic.i18n.logging.NonCatalogLogger\' at line 19</h2></div></div></div>").appendTo('ol.snippet-num li:nth-child(19)');		
$("<a name='-83115461'></a>			<div class='inline-source-comment green'><div class='inline-comment'><div class='inline-comment-heading'><h2 class='notification warning'>Import of \'weblogic.servlet.security.ServletAuthentication\' at line 20</h2></div></div></div>").appendTo('ol.snippet-num li:nth-child(20)');		
$("<a name='-1050721013'></a>			<div class='inline-source-comment green'><div class='inline-comment'><div class='inline-comment-heading'><h2 class='notification warning'>Implementing interface \'javax.servlet.Filter\' at line 23</h2></div></div></div>").appendTo('ol.snippet-num li:nth-child(23)');		
$("<a name='1829042738'></a>			<div class='inline-source-comment green'><div class='inline-comment'><div class='inline-comment-heading'><h2 class='notification warning'>Constructing type \'weblogic.i18n.logging.NonCatalogLogger(java.lang.String)\' at line 28</h2></div><div class='inline-comment-body'><p>Migrate the NonCatalogLogger to Apache Log4j.</p><p><pre><code data-code-syntax='java'>\nLogger LOG = Logger.getLog(&quot;Example&quot;);\n</code></pre></p></div></div></div>").appendTo('ol.snippet-num li:nth-child(28)');		
$("<a name='-505422520'></a>			<div class='inline-source-comment green'><div class='inline-comment'><div class='inline-comment-heading'><h2 class='notification warning'>Method parameter \'javax.servlet.FilterChain\' at line 36</h2></div></div></div>").appendTo('ol.snippet-num li:nth-child(36)');		
$("<a name='46623468'></a>			<div class='inline-source-comment green'><div class='inline-comment'><div class='inline-comment-heading'><h2 class='notification warning'>Usage of \'weblogic.servlet.security.ServletAuthentication.invalidateAll(javax.servlet.http.HttpServletRequest)\' at line 45</h2></div></div></div>").appendTo('ol.snippet-num li:nth-child(45)');		
$("<a name='-1556108160'></a>			<div class='inline-source-comment green'><div class='inline-comment'><div class='inline-comment-heading'><h2 class='notification warning'>Usage of \'weblogic.servlet.security.ServletAuthentication.invalidateAll(javax.servlet.http.HttpServletRequest)\' at line 54</h2></div></div></div>").appendTo('ol.snippet-num li:nth-child(54)');		
$("<a name='689771650'></a>			<div class='inline-source-comment green'><div class='inline-comment'><div class='inline-comment-heading'><h2 class='notification warning'>Method parameter \'javax.servlet.FilterConfig\' at line 59</h2></div></div></div>").appendTo('ol.snippet-num li:nth-child(59)');		
$("<a name='1659873788'></a>			<div class='inline-source-comment green'><div class='inline-comment'><div class='inline-comment-heading'><h2 class='notification warning'>Declaring type \'weblogic.i18n.logging.NonCatalogLogger\' at line 65</h2></div></div></div>").appendTo('ol.snippet-num li:nth-child(65)');	
	
		$('code[data-code-syntax]').each(function(){
	         var codeSyntax = ($(this).data('code-syntax'));
	         if(codeSyntax) {
	            $(this).parent().snippet(codeSyntax,{style:'ide-eclipse', menu:false, showNum:false});
	         }
		});
		$(window).sausage({ page: 'li.box' });
	}); 
</script>		
		<script type='text/javascript' src='../../../../../../../windup.js'></script>
		<div class='windupFooter'>
			<a href='http://redhat.com'><img src='../../../../../../../img/rh-logo.png'/></a>
		</div>

	</body>
</html>